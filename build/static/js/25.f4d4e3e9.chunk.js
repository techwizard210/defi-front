(this["webpackJsonpHiFi-DeFi"]=this["webpackJsonpHiFi-DeFi"]||[]).push([[25],{1148:function(e,t,n){"use strict";n.r(t);var s=n(2),c=n(15),i=n(24),a=n(0),l=n(645),r=n(65),d=n(155),o=n.n(d),j=n(571),m=n.n(j),b=n(126),x=n(442),p=n(715),u=n(527),O=n(837),h=n(519),g=n(536),v=n(1163),f=n(1140),C=n(644),N=n(90),y=n(227),S=n(590),w=n(655),k=n(51),A=n(217),P=n(1);t.default=function(e){var t=e.wipeSignatureAndReRequest,n=N.a.competitions(),d=Object(r.c)(),j=d.chainId,G=d.account,D=Object(a.useState)([]),z=Object(i.a)(D,2),B=z[0],E=z[1],F=Object(a.useState)([]),H=Object(i.a)(F,2),U=H[0],I=H[1],M=Object(a.useState)([]),T=Object(i.a)(M,2),W=T[0],L=T[1],V=Object(a.useState)(0),R=Object(i.a)(V,2),J=R[0],q=R[1],K=Object(a.useCallback)(Object(c.a)(Object(s.a)().mark((function e(){var n,c,i,a,l,r,d,j;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Competition/GetCompetitions",e.prev=1,e.next=4,Object(A.a)("Competition/GetCompetitions","GET",t,G,null,!0,null);case 4:n=e.sent,(c=n)&&(i=c.active,a=c.upcoming,l=c.ended,r=864e5,d=new Date,(j=function(e){for(var t=e,n=0;n<e.length;n+=1)t[n].daysUntilStart=Math.round(d-new Date(t[n].startDate)/r),t[n].daysUntilEnd=Math.round(d-new Date(t[n].endDate)/r),t[n].formattedStart=m()(t[n].startDate).format("HH:mm Do MMM"),t[n].formattedEnd=m()(t[n].endDate).format("HH:mm Do MMM (UTC)");return t})(i),j(a),j(l),E(o.a.orderBy(i,["endDate"],["desc"])),I(o.a.orderBy(a,["endDate"],["asc"])),L(o.a.orderBy(l,["endDate"],["desc"]))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Failed to load competitions");case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),[G,t]);Object(a.useEffect)((function(){K()}),[j,K]);var Q=function(e){k.a.push("/play-game/".concat(e.id))},X=function(){var e=Object(c.a)(Object(s.a)().mark((function e(n){var c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="CompetitionParticipation/".concat(n,"/Enrol"),e.prev=1,e.next=4,Object(A.a)(c,"POST",t,G,{mode:"cors"},!1,null);case 4:e.sent&&(K(),console.log("Successfully enrolled into competition")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Failed to enrol into competition");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){k.a.push("/competition/".concat(e))},Z=function(e,t){var s=e;return Object(P.jsxs)("div",{className:"".concat(t," ").concat(n.podiumPosition),children:[Object(P.jsx)("div",{className:n.podiumAvatarWrapper,children:Object(P.jsx)(g.a,{src:s.playerAvatar,className:n.podiumAvatar})}),Object(P.jsx)("div",{className:n.podiumUserName,children:s.playerName}),Object(P.jsx)("div",{children:s.score}),Object(P.jsx)("div",{style:{height:"16px"}}),Object(P.jsx)("div",{className:"podiumFlag"})]})},$=["first","second","third"],_=function(e){return Object(P.jsx)(x.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:Object(P.jsxs)(x.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:[e.length<1&&Object(P.jsx)(a.Suspense,{fallback:Object(P.jsx)(y.a,{})}),e.length>0&&e.map((function(e,t){var s,c,i,a,r,d,o,j,m,b,g,v,f,C;return Object(P.jsxs)(p.a,{onClick:function(e){},className:n.CompWrapper,style:{backgroundImage:"url(".concat(e.bannerImageUrl)},children:[Object(P.jsxs)(u.a,{className:n.CompContent,style:{background:"transparent"},children:[Object(P.jsxs)(x.a,{container:!0,direction:"row",justifyContent:"center",style:{marginBottom:"10px"},children:[Object(P.jsx)(x.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(P.jsx)("div",{children:Object(P.jsx)("span",{className:n.CompTitle,children:e.name})})}),Object(P.jsx)(x.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:Object(P.jsx)("div",{children:Object(P.jsxs)("div",{className:n.CompActiveDates,children:[e.formattedStart," - ",e.formattedEnd]})})})]}),Object(P.jsxs)(x.a,{container:!0,direction:"row",justifyContent:"center",children:[Object(P.jsx)(x.a,{item:!0,lg:2,md:2,sm:2,xs:2,children:Object(P.jsx)("div",{children:Object(P.jsx)("img",{className:n.CompLogo,src:e.competitionLogoUrl,alt:"compLogo"})})}),Object(P.jsxs)(x.a,{item:!0,lg:3,md:3,sm:3,xs:12,style:{textAlign:"center"},children:[Object(P.jsx)("div",{className:n.PrizePoolHeading,children:Object(P.jsx)("span",{children:"Prize Pool"})}),(null===e||void 0===e||null===(s=e.prizes)||void 0===s?void 0:s.length)>0&&e.prizes.sort((function(e,t){return e.order>t.order?1:0})).map((function(e,t){return Object(P.jsxs)(x.a,{container:!0,direction:"row",justifyContent:"center",className:n.PrizeRow,style:{marginBottom:"10px"},children:[Object(P.jsx)(x.a,{item:!0,lg:5,md:5,sm:5,xs:5,children:Object(P.jsx)("span",{className:"".concat(t<3?$[t]:""),children:e.position})}),Object(P.jsx)(x.a,{item:!0,lg:7,md:7,sm:7,xs:7,children:Object(P.jsx)("span",{className:"".concat(t<3?$[t]:""),children:e.reward})})]},Object(l.a)())}))]}),Object(P.jsx)(x.a,{item:!0,container:!0,xs:3,sm:3,lg:3,className:n.leaderboardPodiumWrapper,children:Object(P.jsxs)(x.a,{container:!0,spacing:2,className:n.leaderboardPodium,style:{backgroundImage:"url(".concat(w.a,")")},children:[Object(P.jsx)(x.a,{item:!0,xs:4,sm:4,lg:4,children:(null===e||void 0===e||null===(c=e.stats)||void 0===c||null===(i=c.standings)||void 0===i?void 0:i.length)>1&&Object(P.jsx)(P.Fragment,{children:Z(null===e||void 0===e||null===(a=e.stats)||void 0===a?void 0:a.standings[1],n.podiumSilver)})}),Object(P.jsx)(x.a,{item:!0,xs:4,sm:4,lg:4,children:(null===e||void 0===e||null===(r=e.stats)||void 0===r||null===(d=r.standings)||void 0===d?void 0:d.length)>0&&Object(P.jsx)(P.Fragment,{children:Z(null===e||void 0===e||null===(o=e.stats)||void 0===o?void 0:o.standings[0],n.podiumGold)})}),Object(P.jsx)(x.a,{item:!0,xs:4,sm:4,lg:4,children:(null===e||void 0===e||null===(j=e.stats)||void 0===j||null===(m=j.standings)||void 0===m?void 0:m.length)>2&&Object(P.jsx)(P.Fragment,{children:Z(null===e||void 0===e||null===(b=e.stats)||void 0===b?void 0:b.standings[2],n.podiumBronze)})})]})}),Object(P.jsx)(x.a,{item:!0,lg:4,md:4,sm:4,xs:4,children:Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:n.CompActiveDates,children:"Competition Games"}),Object(P.jsx)("div",{className:n.CompGamesWrapper,children:Object(P.jsx)(x.a,{container:!0,spacing:2,justifyContent:"flex-end",children:(null===(g=e.includedGames)||void 0===g?void 0:g.length)>0&&e.includedGames.map((function(e){return Object(P.jsx)(x.a,{item:!0,lg:6,sm:6,xs:6,className:n.perGameContainer,children:Object(P.jsx)(S.a,{item:e,ActiveGame:Q})},Object(l.a)())}))})})]})})]})]}),e.sponsors.length>0&&Object(P.jsx)(O.a,{className:n.CompActions,style:{background:"transparent"},children:Object(P.jsxs)(x.a,{container:!0,spacing:2,justifyContent:"flex-end",children:[Object(P.jsx)(x.a,{item:!0,lg:3,sm:3,xs:3}),Object(P.jsx)(x.a,{item:!0,lg:3,sm:3,xs:3}),Object(P.jsx)(x.a,{item:!0,lg:3,sm:3,xs:3}),Object(P.jsx)(x.a,{item:!0,lg:3,sm:3,xs:3})]})}),Object(P.jsx)(O.a,{className:n.CompActions,style:{background:"transparent"},children:Object(P.jsxs)(x.a,{container:!0,spacing:2,justifyContent:"flex-end",children:[Object(P.jsx)(x.a,{item:!0,lg:2,sm:2,xs:2}),Object(P.jsx)(x.a,{item:!0,lg:3,sm:3,xs:3}),Object(P.jsx)(x.a,{item:!0,lg:3,sm:3,xs:3,className:n.ViewStandingsButtonWrapper,children:Object(P.jsx)(h.a,{size:"small",className:n.CompStandingsButton,onClick:function(){return Y(e.id)},children:"View Standings"})},Object(l.a)()),Object(P.jsxs)(x.a,{item:!0,lg:4,sm:4,xs:4,className:n.perGameContainer,children:[e.ended&&(null===(v=e.stats)||void 0===v?void 0:v.enrolled)&&Object(P.jsx)("span",{className:n.EnrolledText,children:"Participated"})," ",!e.ended&&(null===(f=e.stats)||void 0===f?void 0:f.enrolled)&&Object(P.jsx)("span",{className:n.EnrolledText,children:"Participating"}),G&&!e.ended&&!(null!==(C=e.stats)&&void 0!==C&&C.enrolled)&&Object(P.jsx)(h.a,{size:"small",className:n.CompSignUpButton,onClick:function(){return X(e.id)},children:"Sign up!"})]},Object(l.a)())]})})]},Object(l.a)())}))]})})},ee=function(e){return Object(P.jsx)(x.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:Object(P.jsxs)(x.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:[e.length<1&&Object(P.jsx)(a.Suspense,{fallback:Object(P.jsx)(y.a,{})}),e.length>0&&e.map((function(e,t){var s,c,i,a,r;return Object(P.jsxs)(p.a,{onClick:function(e){},className:n.CompWrapper,style:{backgroundImage:"url(".concat(e.bannerImageUrl)},children:[Object(P.jsxs)(u.a,{className:n.CompContent,style:{background:"transparent"},children:[Object(P.jsxs)(x.a,{container:!0,direction:"row",justifyContent:"center",style:{marginBottom:"10px"},children:[Object(P.jsx)(x.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(P.jsx)("div",{children:Object(P.jsx)("span",{className:n.CompTitle,children:e.name})})}),Object(P.jsx)(x.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(P.jsx)("div",{children:Object(P.jsxs)("div",{className:n.CompActiveDates,children:[e.formattedStart," - ",e.formattedEnd]})})})]}),Object(P.jsxs)(x.a,{container:!0,direction:"row",justifyContent:"center",children:[Object(P.jsx)(x.a,{item:!0,lg:2,md:2,sm:12,xs:12,children:Object(P.jsx)("div",{children:Object(P.jsx)("img",{className:n.CompLogo,src:e.competitionLogoUrl,alt:"compLogo"})})}),Object(P.jsxs)(x.a,{item:!0,lg:3,md:3,sm:12,xs:12,style:{textAlign:"center"},children:[Object(P.jsx)("div",{className:n.PrizePoolHeading,children:Object(P.jsx)("span",{children:"Prize Pool"})}),(null===e||void 0===e||null===(s=e.prizes)||void 0===s?void 0:s.length)>0&&e.prizes.sort((function(e,t){return e.order>t.order?1:0})).map((function(e,t){return Object(P.jsxs)(x.a,{container:!0,direction:"row",justifyContent:"center",className:n.PrizeRow,children:[Object(P.jsx)(x.a,{item:!0,lg:3,md:3,sm:3,xs:3,children:Object(P.jsx)("span",{className:"".concat(t<3?$[t]:""),children:e.position})}),Object(P.jsx)(x.a,{item:!0,lg:9,md:9,sm:9,xs:9,children:Object(P.jsx)("span",{className:"".concat(t<3?$[t]:""),children:e.reward})})]},Object(l.a)())}))]}),Object(P.jsx)(x.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:n.CompGamesHeader,children:"Competition Games"}),Object(P.jsx)("div",{className:n.CompGamesWrapper,children:Object(P.jsx)(x.a,{container:!0,spacing:2,justifyContent:"flex-end",children:(null===(c=e.includedGames)||void 0===c?void 0:c.length)>0&&e.includedGames.map((function(e){return Object(P.jsx)(x.a,{item:!0,lg:6,sm:6,xs:6,className:n.perGameContainer,children:Object(P.jsx)(S.a,{item:e,ActiveGame:Q})},Object(l.a)())}))})})]})})]})]}),e.sponsors.length>0&&Object(P.jsx)(O.a,{className:n.CompActions,style:{background:"transparent"},children:Object(P.jsx)("div",{children:Object(P.jsx)(h.a,{size:"small",className:n.CompSignUpButton,onClick:function(){return X(e.id)},children:"Sign up!"})})}),Object(P.jsx)(O.a,{className:n.CompActions,style:{background:"transparent"},children:Object(P.jsxs)("div",{style:{width:"100%"},children:[Object(P.jsx)(h.a,{size:"small",className:n.CompStandingsButton,onClick:function(){return Y(e.id)},children:"View Standings"}),e.ended&&(null===(i=e.stats)||void 0===i?void 0:i.enrolled)&&Object(P.jsx)("span",{className:n.EnrolledText,children:"Participated"})," ",!e.ended&&(null===(a=e.stats)||void 0===a?void 0:a.enrolled)&&Object(P.jsx)("span",{className:n.EnrolledText,children:"Participating"}),G&&!e.ended&&!(null!==(r=e.stats)&&void 0!==r&&r.enrolled)&&Object(P.jsx)(h.a,{size:"small",className:n.CompSignUpButton,onClick:function(){return X(e.id)},children:"Sign up!"})]})})]},Object(l.a)())}))]})})},te=function(e,t){q(t)};function ne(e){var t=e.children,n=e.index;return Object(P.jsx)("div",{role:"tabpanel",hidden:J!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n),children:J===n&&Object(P.jsx)(C.a,{children:t})})}return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(b.BrowserView,{children:[Object(P.jsx)("div",{className:"boost",children:"Competitions"}),Object(P.jsxs)(v.a,{value:J,indicatorColor:"primary",onChange:te,centered:!0,children:[Object(P.jsx)(f.a,{label:"Active & Upcoming"}),Object(P.jsx)(f.a,{label:"Ended"})]}),Object(P.jsxs)(ne,{value:J,index:0,children:[(null===B||void 0===B?void 0:B.length)>0&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:n.CompSectionHeader,children:Object(P.jsx)("span",{children:"Active"})}),Object(P.jsx)("div",{id:"app-signin",children:_(B)})]}),(null===U||void 0===U?void 0:U.length)>0&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:n.CompSectionHeader,children:Object(P.jsx)("span",{children:"Upcoming"})}),Object(P.jsx)("div",{id:"app-signin",children:_(U)})]})]}),Object(P.jsxs)(ne,{value:J,index:1,children:[Object(P.jsx)("div",{className:n.CompSectionHeader,children:Object(P.jsx)("span",{children:"Ended"})}),Object(P.jsx)("div",{id:"app-signin",children:_(W)})]})]}),Object(P.jsxs)(b.MobileView,{children:[Object(P.jsxs)(v.a,{value:J,indicatorColor:"primary",onChange:te,centered:!0,children:[Object(P.jsx)(f.a,{label:"Active & Upcoming"}),Object(P.jsx)(f.a,{label:"Ended"})]}),Object(P.jsxs)(ne,{value:J,index:0,children:[(null===B||void 0===B?void 0:B.length)>0&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:n.CompSectionHeader,children:Object(P.jsx)("span",{children:"Active"})}),Object(P.jsx)("div",{id:"app-signin",children:ee(B)})]}),(null===U||void 0===U?void 0:U.length)>0&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:n.CompSectionHeader,children:Object(P.jsx)("span",{children:"Upcoming"})}),Object(P.jsx)("div",{id:"app-signin",children:ee(U)})]})]}),Object(P.jsxs)(ne,{value:J,index:1,children:[Object(P.jsx)("div",{className:n.CompSectionHeader,children:Object(P.jsx)("span",{children:"Ended"})}),Object(P.jsx)("div",{id:"app-signin",children:ee(W)})]})]})]})}},590:function(e,t,n){"use strict";var s=n(442),c=n(592),i=n.n(c),a=n(591),l=n.n(a),r=n(593),d=n.n(r),o=n(1);t.a=function(e){var t=e.item,n=e.ActiveGame;return Object(o.jsx)(s.a,{className:"game-holder",children:Object(o.jsx)(s.a,{className:"game-image-wrapper",children:Object(o.jsxs)(s.a,{className:"game-image-holder",children:[Object(o.jsxs)(s.a,{className:"game-image-overlay",children:[(null===t||void 0===t?void 0:t.keyboard)&&Object(o.jsx)(l.a,{}),(null===t||void 0===t?void 0:t.joystick)&&Object(o.jsx)(i.a,{}),(null===t||void 0===t?void 0:t.mouse)&&Object(o.jsx)(d.a,{})]}),Object(o.jsx)(s.a,{className:"game-image-bg",style:{backgroundImage:"url(".concat("http://localhost:29926","/").concat(t.img,")")}}),Object(o.jsx)(s.a,{className:"game-action gameActionIcon",children:Object(o.jsx)("p",{className:"playBtn",onClick:function(){return n(t)},children:"Play the Game"})}),Object(o.jsx)(s.a,{className:"game-info",children:Object(o.jsx)("span",{className:"game-name",children:Object(o.jsx)("span",{children:t.title})})})]})})})}},655:function(e,t,n){"use strict";t.a=n.p+"static/media/hifiPodium.c9a26b23.png"}}]);
//# sourceMappingURL=25.f4d4e3e9.chunk.js.map