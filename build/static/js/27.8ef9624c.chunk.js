(this["webpackJsonpHiFi-DeFi"]=this["webpackJsonpHiFi-DeFi"]||[]).push([[27],{559:function(e,t,c){"use strict";var a=c(2),n=c(15),r=c(519),s=c(1141),l=c(1144),i=c(1143),o=c(1142),j=c(1);t.a=function(e){var t=e.open,c=e.handleClose,d=e.messageWording,u=e.action,f=e.modalTitle,b=e.actionWording,m=e.actionClass,O=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(s.a,{fullWidth:!0,maxWidth:"sm",open:t,onClose:c,"aria-labelledby":"max-width-dialog-title",className:"profileModal",children:[Object(j.jsx)(o.a,{id:"max-width-dialog-title",style:{textAlign:"center"},children:f}),Object(j.jsx)(i.a,{className:"body",children:d}),Object(j.jsxs)(l.a,{children:[Object(j.jsx)(r.a,{onClick:O,color:"primary",className:null!==m&&void 0!==m?m:"accept",children:b}),Object(j.jsx)(r.a,{onClick:c,color:"primary",children:"Close"})]})]})}},806:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(15),r=c(24),s=c(0),l=c(126),i=c(442),o=c(519),j=c(65),d=c(116),u=c(644),f=c(571),b=c.n(f),m=c(565),O=c.n(m),h=c(217),p=c(1141),x=c(1144),g=c(1143),v=c(1142),C=c(1),N=function(e){var t=e.open,c=e.handleClose,l=e.wipeSignatureAndReRequest,u=e.contract,f=Object(j.c)().account,b=Object(s.useState)(null),m=Object(r.a)(b,2),O=m[0],N=m[1],y=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.a)("Tavern/AcceptScholarshipOffer?contractId=".concat(u.id),"POST",l,f,null,!1,null);case 3:(t=e.sent)&&(t.success?(d.b.success("Accepted scholarship offer"),c()):(d.b.error(t.error),c())),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("failed to accept scholar offer");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=Object(s.useCallback)(Object(n.a)(Object(a.a)().mark((function e(){var t,c,n,r,s,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=u.id,c=u.contractType,n={ContractId:t,Type:c},r={mode:"cors",body:JSON.stringify(n)},(s=new Headers).append("Content-Type","application/json"),s.append("Accept","application/json"),e.next=9,Object(h.a)("Tavern/GetContract","POST",l,f,r,!1,s);case 9:(i=e.sent)&&N(i),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("failed to fetch scholarship offer");case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),[u,l,f]);return Object(s.useEffect)((function(){function e(){return(e=Object(n.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}f&&u&&0===u.contractType&&function(){e.apply(this,arguments)}()}),[f,w,u]),Object(C.jsxs)(p.a,{fullWidth:!0,maxWidth:"sm",open:t,onClose:c,"aria-labelledby":"max-width-dialog-title",className:"guildManagementModal scholOfferModal",children:[Object(C.jsx)(v.a,{id:"max-width-dialog-title",style:{textAlign:"center"},children:"View Scholarship Offer"}),Object(C.jsx)(g.a,{className:"body",children:Object(C.jsx)(i.a,{container:!0,children:O&&Object(C.jsxs)(i.a,{item:!0,container:!0,lg:12,md:12,sm:12,xs:12,children:[Object(C.jsxs)(i.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:"offerDetails",children:[Object(C.jsxs)("p",{children:["This is a scholarship contract at [",O.guildName,"] on the NFT [",O.nftName,"]."]}),Object(C.jsxs)("p",{children:["They are offering a commission rate of:"," ",O.commissionRate,"%."]}),Object(C.jsxs)("p",{children:["This means for every 100 HiFi you earn:",Object(C.jsxs)("ul",{children:[Object(C.jsxs)("li",{children:["You will get: ",100-O.commissionRate," HiFi"]}),Object(C.jsxs)("li",{children:["The NFT owner will get: ",O.commissionRate," ","HiFi"]})]})]})]}),O.canAction&&Object(C.jsx)(i.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:"actions",children:Object(C.jsx)(o.a,{onClick:function(){return y()},className:"accept",children:"Accept Offer"})}),!O.canAction&&Object(C.jsx)("div",{className:"offerNotActive",children:"Scholarship offer no longer active or you don't have permission to accept the contract"})]})})}),Object(C.jsx)(x.a,{children:Object(C.jsx)(o.a,{onClick:c,color:"primary",className:"close",children:"Close"})})]})},y=c(559),w=c(645),S=function(e){var t=e.open,c=e.handleClose,l=e.wipeSignatureAndReRequest,d=Object(j.c)().account,u=Object(s.useState)(null),f=Object(r.a)(u,2),b=f[0],m=f[1],O=Object(s.useState)(null),N=Object(r.a)(O,2),y=N[0],S=N[1],k=Object(s.useState)(null),T=Object(r.a)(k,2),F=T[0],A=T[1],W=Object(s.useCallback)(Object(n.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.a)("Tavern/GetAvailableNFTs","GET",l,d,null,!1,null);case 3:t=e.sent,m(t),S(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("failed to fetch available scholars");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[d,l]);Object(s.useEffect)((function(){function e(){return(e=Object(n.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}d&&function(){e.apply(this,arguments)}()}),[d,W,l]);return Object(C.jsxs)(p.a,{fullWidth:!0,maxWidth:"sm",open:t,onClose:c,"aria-labelledby":"max-width-dialog-title",className:"guildModal scholOfferModal",children:[Object(C.jsx)(v.a,{id:"max-width-dialog-title",style:{textAlign:"center"},children:"Select NFT"}),Object(C.jsx)(g.a,{className:"body",children:Object(C.jsx)(i.a,{container:!0,children:Object(C.jsx)(i.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:"nftListWrapper",children:y&&(null===b||void 0===b?void 0:b.length)>0&&b.map((function(e){return function(e){var t;return Object(C.jsxs)(i.a,{item:!0,container:!0,lg:12,md:12,sm:12,xs:12,className:"".concat(null!==F&&F.gamingNFTId===e.gamingNFTId?"selected":""),children:[Object(C.jsxs)(i.a,{item:!0,container:!0,lg:9,md:9,sm:9,xs:9,className:"name",children:[Object(C.jsx)(i.a,{item:!0,lg:2,md:2,sm:2,xs:2,className:"image",children:Object(C.jsx)("img",{src:"".concat("http://localhost:29926","/").concat(e.image),alt:"nftImg",style:{width:"100%"}})}),Object(C.jsxs)(i.a,{item:!0,container:!0,lg:10,md:10,sm:10,xs:10,className:"nftInfo",children:[Object(C.jsx)(i.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:"name",children:e.name}),Object(C.jsxs)(i.a,{item:!0,container:!0,lg:12,md:12,sm:12,xs:12,className:"scholarSlots",children:[Object(C.jsx)("i",{className:"fa-solid fa-user-graduate icon"}),"Scholar Slots ",null!==(t=e.scholarSlots)&&void 0!==t?t:0," / ",e.maxScholarSlots]})]})]}),Object(C.jsxs)(i.a,{item:!0,lg:3,md:3,sm:3,xs:3,className:"nftAction",children:[(null===F||F.gamingNFTId!==e.gamingNFTId)&&e.scholarSlots<e.maxScholarSlots&&Object(C.jsx)(o.a,{onClick:function(){return A(e)},children:"Select"}),null!==F&&F.gamingNFTId===e.gamingNFTId&&Object(C.jsx)(C.Fragment,{children:"Selected"}),e.scholarSlots===e.maxScholarSlots&&Object(C.jsx)(C.Fragment,{children:"NFT Full"})]})]},Object(w.a)())}(e)}))})})}),Object(C.jsxs)(x.a,{children:[null!==F&&Object(C.jsx)(o.a,{onClick:function(){return c(null,F)},color:"primary",children:"Select NFT"}),Object(C.jsx)(o.a,{onClick:c,color:"primary",className:"close",children:"Close"})]})]})},k=function(e){var t,c=e.open,l=e.handleClose,u=e.wipeSignatureAndReRequest,f=e.contract,b=Object(j.c)().account,m=Object(s.useState)(null),O=Object(r.a)(m,2),N=O[0],y=O[1],w=Object(s.useState)(null),k=Object(r.a)(w,2),T=k[0],F=k[1],A=Object(s.useState)(!1),W=Object(r.a)(A,2),R=W[0],H=W[1],I=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t,c){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&F(c),H(!1);case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),D=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){var t,c,n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={ContractId:f.id,GamingNFTId:T.gamingNFTId},(c=new Headers).append("Content-Type","application/json"),c.append("Accept","application/json"),n={mode:"cors",body:JSON.stringify(t)},e.next=8,Object(h.a)("Tavern/AcceptWorkOffer","POST",u,b,n,!1,c);case 8:(r=e.sent)&&(r.success?(d.b.success("Accepted work offer"),l()):(d.b.error(r.error),l())),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("failed to accept work offer");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),E=Object(s.useCallback)(Object(n.a)(Object(a.a)().mark((function e(){var t,c,n,r,s,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=f.id,c=f.contractType,n={ContractId:t,Type:c},r={mode:"cors",body:JSON.stringify(n)},(s=new Headers).append("Content-Type","application/json"),s.append("Accept","application/json"),e.next=9,Object(h.a)("Tavern/GetContract","POST",u,b,r,!1,s);case 9:(l=e.sent)&&y(l),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("failed to fetch work offer");case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),[f,u,b]);return Object(s.useEffect)((function(){function e(){return(e=Object(n.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}b&&f&&1===f.contractType&&function(){e.apply(this,arguments)}()}),[b,E,f]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(p.a,{fullWidth:!0,maxWidth:"sm",open:c,onClose:l,"aria-labelledby":"max-width-dialog-title",className:"guildModal scholOfferModal",children:[Object(C.jsx)(v.a,{id:"max-width-dialog-title",style:{textAlign:"center"},children:"Accept Work Offer"}),Object(C.jsx)(g.a,{className:"body",children:Object(C.jsx)(i.a,{container:!0,children:N&&Object(C.jsxs)(i.a,{item:!0,container:!0,lg:12,md:12,sm:12,xs:12,children:[Object(C.jsxs)(i.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:"offerDetails",children:[Object(C.jsxs)("p",{children:["This is a work offer from [",N.playerName,"]."]}),Object(C.jsxs)("p",{children:["They are offering a commission rate of:"," ",N.commissionRate,"%."]}),Object(C.jsxs)("div",{children:["This means for every 100 HiFi you earn:",Object(C.jsxs)("ul",{children:[Object(C.jsxs)("li",{children:["You will get: ",100-N.commissionRate," HiFi"]}),Object(C.jsxs)("li",{children:["The NFT owner will get: ",N.commissionRate," HiFi"]})]})]})]}),Object(C.jsxs)(i.a,{item:!0,container:!0,lg:12,md:12,sm:12,xs:12,children:[Object(C.jsxs)(i.a,{item:!0,container:!0,lg:8,md:8,sm:8,xs:8,className:"nftDetails",children:[T&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(i.a,{item:!0,lg:2,md:2,sm:2,xs:2,className:"image",children:Object(C.jsx)("img",{src:"".concat("http://localhost:29926","/").concat(T.image),alt:"nftImg",style:{width:"100%"}})}),Object(C.jsxs)(i.a,{item:!0,container:!0,lg:10,md:10,sm:10,xs:10,className:"nftInfo",children:[Object(C.jsx)(i.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:"name",children:T.name}),Object(C.jsxs)(i.a,{item:!0,container:!0,lg:12,md:12,sm:12,xs:12,className:"scholarSlots",children:[Object(C.jsx)("i",{className:"fa-solid fa-user-graduate icon"}),"Scholar Slots ",null!==(t=T.scholarSlots)&&void 0!==t?t:0," /"," ",T.maxScholarSlots]})]})]}),!T&&Object(C.jsx)(C.Fragment,{children:"No NFT Selected"})]}),Object(C.jsxs)(i.a,{item:!0,lg:4,md:4,sm:4,xs:4,className:"nftAction",children:[T&&Object(C.jsx)(o.a,{onClick:I,children:"Change NFT"}),!T&&Object(C.jsx)(o.a,{onClick:I,children:"Select NFT"})]})]}),!N.canAction&&Object(C.jsx)("div",{className:"offerNotActive",children:"Work offer no longer active or you don't have permission to accept the contract"})]})})}),Object(C.jsxs)(x.a,{children:[(null===N||void 0===N?void 0:N.canAction)&&T&&Object(C.jsx)(o.a,{onClick:function(){return D()},className:"accept",children:"Accept Offer"}),Object(C.jsx)(o.a,{onClick:l,color:"primary",className:"close",children:"Close"})]})]}),Object(C.jsx)(S,{open:R,handleClose:M})]})},T={MinCommission:null,MaxCommission:null,IncludeExpired:!1,OrderByField:"ListingCreated",OrderByDirection:"desc",ResultsPerPage:20,PageNo:1},F=function(e){var t=e.wipeSignatureAndReRequest,c=e.refreshList,l=e.setRefreshList,f=e.setCanCreateScholarOffer,m=e.setCanCreateWorkOffer,p=Object(s.useState)(null),x=Object(r.a)(p,2),g=x[0],v=x[1],w=Object(j.c)(),S=w.account,F=w.chainId,A=Object(s.useState)(T),W=Object(r.a)(A,2),R=W[0],H=(W[1],Object(s.useState)(null)),I=Object(r.a)(H,2),M=I[0],D=I[1],E=Object(s.useState)(null),P=Object(r.a)(E,2),L=P[0],q=P[1],G=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t,c){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(t),D(c);case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),J=Object(s.useCallback)(Object(n.a)(Object(a.a)().mark((function e(){var c,n,r,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=R,n={mode:"cors",body:JSON.stringify(c)},(r=new Headers).append("Content-Type","application/json"),r.append("Accept","application/json"),e.next=8,Object(h.a)("Tavern/Overview","POST",t,S,n,!0,r);case 8:s=e.sent,v(s),f(s.canCreateScholarOffers),m(s.canCreateWorkOffer),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("failed to fetch tavern data");case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[S,f,m,R,t]),Y=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(null),D(null),J();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){var c,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={mode:"cors"},e.next=4,Object(h.a)("Tavern/CancelWorkOffer?contractId=".concat(L.id),"DELETE",t,S,c,!1,null);case 4:(n=e.sent)&&(null!==n&&void 0!==n&&n.success?d.b.success("Work offer cancelled"):d.b.error(n.error),Y()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("failed to cancel work offer");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){var c,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={mode:"cors"},e.next=4,Object(h.a)("Tavern/CancelScholarOffer?contractId=".concat(L.id),"DELETE",t,S,c,!1,null);case 4:(n=e.sent)&&(null!==n&&void 0!==n&&n.success?d.b.success("Scholar offer cancelled"):d.b.error(n.error),Y()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("failed to cancel scholar offer");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){J()}),[S,F,J,t,c]),Object(s.useEffect)((function(){c&&(J(),l(!1))}),[J,c,l]);var V=[{name:"Contract Type",selector:function(e){return e.contractType},center:!0,sortable:!0,cell:function(e){return Object(C.jsxs)(C.Fragment,{children:[0===e.contractType&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("i",{className:"fa-solid fa-user-graduate icon"}),"Scholar Offer"]}),1===e.contractType&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("i",{className:"fa-solid fa-briefcase"}),"Work Offer"]})]})}},{name:"Hiring Guild / Player Name",selector:function(e){return e.displayName},center:!0,sortable:!0},{name:"Guild Cut",selector:function(e){return e.commissionRate},center:!0,sortable:!0,cell:function(e){return Object(C.jsxs)(C.Fragment,{children:[e.commissionRate,"%"]})}},{name:"Listing Created",selector:function(e){return e.listingCreated},center:!0,sortable:!0,cell:function(e){return Object(C.jsx)(C.Fragment,{children:b()(e.listingCreated).format("Do MMMM YYYY HH:mm:ss")})}},{name:"",width:"200px",displayName:"",cell:function(e){return Object(C.jsxs)(C.Fragment,{children:[0===e.contractType&&Object(C.jsxs)(C.Fragment,{children:[e.canAction&&Object(C.jsx)(o.a,{onClick:function(){return G(e,"AcceptScholarOffer")},children:"Accept Offer"}),e.canCancel&&Object(C.jsx)(o.a,{onClick:function(){return G(e,"CancelScholarOffer")},className:"close",children:"Cancel"})]}),1===e.contractType&&Object(C.jsxs)(C.Fragment,{children:[e.canAction&&Object(C.jsx)(o.a,{onClick:function(){return G(e,"AcceptWorkOffer")},children:"Accept Offer"}),e.canCancel&&Object(C.jsx)(o.a,{onClick:function(){return G(e,"CancelWorkOffer")},className:"close",children:"Cancel"})]})]})}}];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"contracts",children:Object(C.jsx)(i.a,{container:!0,children:Object(C.jsx)(i.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(C.jsx)(u.a,{children:Object(C.jsxs)(i.a,{children:[Object(C.jsx)("div",{className:"heading",children:"Open Contracts"}),Object(C.jsx)(O.a,{columns:V,data:null===g||void 0===g?void 0:g.contracts,pagination:!0,theme:"solarized",highlightOnHover:!0,noDataComponent:Object(C.jsx)("div",{className:"noContracts",children:"There are no active contracts at the moment..."})})]})})})})}),Object(C.jsx)(N,{open:"AcceptScholarOffer"===M,handleClose:Y,contract:L}),Object(C.jsx)(k,{open:"AcceptWorkOffer"===M,handleClose:Y,contract:L}),Object(C.jsx)(y.a,{open:"CancelWorkOffer"===M,handleClose:Y,messageWording:"Are you sure you want to cancel the work offer?",action:B,modalTitle:"Cancel Work Offer",actionWording:"Cancel Work Offer",actionClass:"close"}),Object(C.jsx)(y.a,{open:"CancelScholarOffer"===M,handleClose:Y,messageWording:"Are you sure you want to cancel the scholar offer?",action:z,modalTitle:"Cancel Scholar Offer",actionWording:"Cancel Scholar Offer",actionClass:"close"})]})},A=c(1160),W=function(e){var t,c=e.open,l=e.handleClose,u=e.wipeSignatureAndReRequest,f=Object(j.c)().account,b=Object(s.useState)(null),m=Object(r.a)(b,2),O=m[0],N=m[1],y=Object(s.useState)(null),w=Object(r.a)(y,2),k=w[0],T=w[1],F=Object(s.useState)(!1),W=Object(r.a)(F,2),R=W[0],H=W[1],I=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t,c){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&T(c),H(!1);case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),D=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){var t,c,n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={CommissionRate:O,GamingNFTId:k.gamingNFTId},(c=new Headers).append("Content-Type","application/json"),c.append("Accept","application/json"),n={mode:"cors",body:JSON.stringify(t)},e.next=8,Object(h.a)("Tavern/CreateScholarOffer","POST",u,f,n,!1,c);case 8:(r=e.sent)&&(r.success?(d.b.success("Created scholar offer"),l(null,!0)):d.b.error(r.error)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("failed to create scholar offer contract");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(p.a,{fullWidth:!0,maxWidth:"sm",open:c,onClose:l,"aria-labelledby":"max-width-dialog-title",className:"guildModal assignScholarModal scholOfferModal",children:[Object(C.jsx)(v.a,{id:"max-width-dialog-title",style:{textAlign:"center"},children:"Create Tavern Scholar Offer"}),Object(C.jsx)(g.a,{className:"body",children:Object(C.jsxs)(i.a,{container:!0,children:[Object(C.jsxs)(i.a,{item:!0,container:!0,lg:12,md:12,sm:12,xs:12,children:[Object(C.jsxs)(i.a,{item:!0,container:!0,lg:8,md:8,sm:12,xs:12,className:"nftDetails",children:[k&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(i.a,{item:!0,lg:2,md:2,sm:2,xs:2,className:"image",children:Object(C.jsx)("img",{src:"".concat("http://localhost:29926","/").concat(k.image),alt:"nftImg",style:{width:"100%"}})}),Object(C.jsxs)(i.a,{item:!0,container:!0,lg:10,md:10,sm:10,xs:10,className:"nftInfo",children:[Object(C.jsx)(i.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:"name",children:k.name}),Object(C.jsxs)(i.a,{item:!0,container:!0,lg:12,md:12,sm:12,xs:12,className:"scholarSlots",children:[Object(C.jsx)("i",{className:"fa-solid fa-user-graduate icon"}),"Scholar Slots ",null!==(t=k.scholarSlots)&&void 0!==t?t:0," /"," ",k.maxScholarSlots]})]})]}),!k&&Object(C.jsx)(C.Fragment,{children:"No NFT Selected"})]}),Object(C.jsxs)(i.a,{item:!0,lg:4,md:4,sm:12,xs:12,className:"nftAction",children:[k&&Object(C.jsx)(o.a,{onClick:I,children:"Change NFT"}),!k&&Object(C.jsx)(o.a,{onClick:I,children:"Select NFT"})]})]}),Object(C.jsx)(i.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(C.jsx)(A.a,{autoFocus:!0,margin:"dense",label:"Commission Split",type:"number",value:O,onChange:function(e){return N(e.target.value)}})}),Object(C.jsxs)(i.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:"offerDetails",children:["This means for every 100 HiFi the scholar earns:",Object(C.jsxs)("ul",{children:[Object(C.jsxs)("li",{children:["The NFT owner will get: ",O," HiFi"]}),Object(C.jsxs)("li",{children:["The scholar will get: ",100-O," HiFi"]})]})]})]})}),Object(C.jsxs)(x.a,{className:"actions",children:[!k&&Object(C.jsx)("span",{children:"Please select an NFT"}),k&&O&&O>=0&&O<=100&&Object(C.jsx)(o.a,{onClick:D,color:"primary",children:"Create Offer"}),Object(C.jsx)(o.a,{onClick:l,color:"primary",className:"close",children:"Close"})]})]}),Object(C.jsx)(S,{open:R,handleClose:M})]})},R=function(e){var t=e.open,c=e.handleClose,l=e.wipeSignatureAndReRequest,u=Object(j.c)().account,f=Object(s.useState)(50),b=Object(r.a)(f,2),m=b[0],O=b[1],N=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){var t,n,r,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={CommissionRate:m},(n=new Headers).append("Content-Type","application/json"),n.append("Accept","application/json"),r={mode:"cors",body:JSON.stringify(t)},e.next=8,Object(h.a)("Tavern/CreateWorkOffer","POST",l,u,r,!1,n);case 8:(s=e.sent)&&(s.success?(d.b.success("Created work offer"),c(null,!0)):(d.b.error(s.error),c(null,!1))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Failed to create work offer");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(p.a,{fullWidth:!0,maxWidth:"sm",open:t,onClose:c,"aria-labelledby":"max-width-dialog-title",className:"guildManagementModal assignScholarModal scholOfferModal",children:[Object(C.jsx)(v.a,{id:"max-width-dialog-title",style:{textAlign:"center"},children:"Create Work Order"}),Object(C.jsx)(g.a,{className:"body",children:Object(C.jsxs)(i.a,{container:!0,children:[Object(C.jsx)(i.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(C.jsx)(A.a,{autoFocus:!0,margin:"dense",label:"Commission Split",type:"number",value:m,onChange:function(e){return O(e.target.value)}})}),Object(C.jsx)(i.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:"offerDetails",children:Object(C.jsxs)("p",{children:["This means for every 100 HiFi you earn:",Object(C.jsxs)("ul",{children:[Object(C.jsxs)("li",{children:["The NFT owner will get: ",m," HiFi"]}),Object(C.jsxs)("li",{children:["You will receive: ",100-m," HiFi"]})]})]})})]})}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(o.a,{onClick:N,color:"primary",children:"Create Work Offer"}),Object(C.jsx)(o.a,{onClick:c,color:"primary",className:"close",children:"Close"})]})]})};t.default=function(e){var t=e.wipeSignatureAndReRequest,c=Object(s.useState)(null),j=Object(r.a)(c,2),d=j[0],u=j[1],f=Object(s.useState)(!1),b=Object(r.a)(f,2),m=b[0],O=b[1],h=Object(s.useState)(!1),p=Object(r.a)(h,2),x=p[0],g=p[1],v=Object(s.useState)(!1),N=Object(r.a)(v,2),y=N[0],w=N[1],S=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(n.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(null),O(!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"tavern ".concat(l.isMobile?"mobile":""),children:[Object(C.jsxs)(i.a,{container:!0,children:[Object(C.jsx)(i.a,{item:!0,lg:6,md:6,sm:6,xs:6,className:"tavernAction",children:Object(C.jsxs)(o.a,{onClick:function(){return S("ScholarOffer")},disabled:!x,children:[Object(C.jsx)("i",{className:"fa-solid fa-user-graduate icon"}),"Create scholar offer"]})}),Object(C.jsx)(i.a,{item:!0,lg:6,md:6,sm:6,xs:6,className:"tavernAction",children:Object(C.jsxs)(o.a,{onClick:function(){return S("WorkOfferOffer")},disabled:!y,children:[Object(C.jsx)("i",{className:"fa-solid fa-briefcase icon"}),"Create work offer"]})})]}),Object(C.jsx)(F,{wipeSignatureAndReRequest:t,refreshList:m,setRefreshList:O,setCanCreateScholarOffer:g,setCanCreateWorkOffer:w}),Object(C.jsx)(W,{open:"ScholarOffer"===d,handleClose:k}),Object(C.jsx)(R,{open:"WorkOfferOffer"===d,handleClose:k})]})}}}]);
//# sourceMappingURL=27.8ef9624c.chunk.js.map